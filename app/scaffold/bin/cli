#!/usr/local/bin/node
var expressway = require('expressway');
var app = expressway.init(__dirname+"/../app/", ENV_CLI).bootstrap();
var cli = app.cli;
var log = app.logger;

/**
 * Your actions are set up in an object.
 */
cli.actions({
    mongo: function() {
        cli.exec('mongod');
    },

    /**
     * Run the seeder.
     */
    seed: function() {
        log.info('Running Seed Command...');
        require(app.rootPath('db/seeder'))(app.Seeder, app);
    },

    /**
     * Test the application.
     */
    test: function() {
        cli.exec('mocha', ['test']);
    },

    /**
     * List all the routes in the application.
     */
    routes: function() {
        app.router.list().forEach(function(route) {
            console.log(route);
        });
        process.exit(1);
    }
});


cli.run();